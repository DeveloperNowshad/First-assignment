"use strict";PULSE.app.templates.user_avatar=_.template('<img src="<%= details.imageUrl %>" class="user-options__account-avatar-img">'),function(e,t){var n="fcbsites--open",a="js-fcb-sites-dropdown",o=function(){var e=this;t.style.toggleClass(e.element,n),t.style.toggleClass(document.body,CONSTANTS.STYLE_CLS_NAMES.NO_SCROLL),A11Y_HELPER.toggleAriaMenuAttributes(e.dropdown),A11Y_HELPER.toggleZIndex(e.dropdown)};e.FCBSitesNavigation=function(t){var n=this;n.element=t,n.dropdown=t.querySelector("."+a),n.addListeners();for(var o=n.element.querySelectorAll("."+CONSTANTS.JS_CLS_NAMES.LAZY_PICTURE_ELEMENT),r=0;r<o.length;r++)new e.common.LazyPictureElement(o[r])},e.FCBSitesNavigation.prototype.addListeners=function(){var e=this;A11Y_HELPER.addListener(e.element,o.bind(e))};for(var r=document.querySelectorAll('[data-widget="fcb-navigation"]'),i=0;i<r.length;i++)new e.FCBSitesNavigation(r[i],{})}(PULSE.app,PULSE.core),function(e,t){var n="navigation--language-switcher-active",a="js-language-active",o="js-language-switcher-close",r="js-language-link",i="js-current-page-translations",s=function(){var e=this,t=DOM_HELPER.nodeListToArray(document.querySelectorAll('head link[rel="alternate"]')),n=t.filter(function(e){return"x-default"!==e.getAttribute("hreflang")});return n.length>0?void d.call(e,n):void(e.pageTranslationsElem&&u.call(e))},l=function(){var e=this;t.style.toggleClass(e.nav,n),e.closeIcon||(e.closeIcon=e.element.querySelector("."+o),A11Y_HELPER.addListener(e.closeIcon,c.bind(e)))},c=function(){var e=this;t.style.removeClass(e.nav,n)},d=function(e){for(var t=this,n=0;n<t.languageLinks.length;n++)for(var a=t.languageLinks[n].getAttribute("hreflang"),o=0;o<e.length;o++)if(e[o].getAttribute("hreflang")===a){t.languageLinks[n].setAttribute("href",e[o].getAttribute("href"));break}},u=function(){for(var e=this,t=0;t<e.languageLinks.length;t++){var n=e.languageLinks[t].getAttribute("hreflang"),a=e.pageTranslationsElem.getAttribute("data-url-"+n);a&&e.languageLinks[t].setAttribute("href",a)}};e.LanguageSwitcher=function(e){var t=this;t.element=e,t.nav=document.getElementById("nav"),t.activeLanguage=e.querySelector("."+a),t.languageLinks=e.querySelectorAll("."+r),t.pageTranslationsElem=document.querySelector("."+i),A11Y_HELPER.addListener(t.activeLanguage,l.bind(t)),s.call(t)};for(var v=document.querySelectorAll('[data-widget="language-switcher"]'),E=0;E<v.length;E++)new e.LanguageSwitcher(v[E],{})}(PULSE.app,PULSE.core),function(e,t,n){var a=300,o="js-burger-menu",r="js-middle-navigation-dropdown-button",i="js-middle-navigation-dropdown",s="middle-navigation__item--dropdown-disabled",l="js-middle-navigation-dropdown-disabled",c="middle-navigation__dropdown--open",d="js-middle-link",u="js-nav-scroll-container",v="js-secondary-navigation-section",E="js-secondary-nav",S="js-new-release-popup",g="js-new-release-close",m="middle-navigation--hover",p="middle-navigation__item--hovered",y="navigation--docked",L="navigation--docked-midway",C="nav",_="js-middle-navigation-menu-item",N="new-release-popup",f="new-release-popup--hide",A="secondary-navigation__link-panel"+CONSTANTS.STYLE_CLS_MODIFIERS.ACTIVE,h="secondary-navigation__link-panel--hidden",T="secondary-navigation__links--mobile-only-extra",b="navigation-fixed-container--mobile-open",P="js-mobile-menu-close",R="js-mobile-only-extra",w="main-mobile-navigation--docked",O="main-mobile-navigation--docked-midway",M="navigation--mobile-open",I="mobile-nav",H="middle-navigation__item--active",D="secondary-navigation__link-panel--active",q="js-mobile-bottom-scroll-indicator",k="secondary-navigation__bottom-scroll-indicator--bounce",U="secondary-navigation__bottom-scroll-indicator--hide",Y="navigation-fixed-container--hide-secondary",B="js-secondary-navigation-flex-nav",j="js-barca-teams-dropdown",x="tertiary-navigation"+CONSTANTS.STYLE_CLS_MODIFIERS.ACTIVE,V="js-tertiary-wrapper",W="hide-new-feature-popup",F=0,J=function(){for(var e=this,n=0;n<e.mainMenuItems.length;n++)if(t.style.hasClass(e.mainMenuItems[n],H))return e.mainMenuItems[n];return null},K=function(){var e=this;return e.scrollElement?e.scrollElement.scrollTop:window.pageYOffset},Z=function(e,n){for(var a=0;a<e.length;a++)if(!t.style.hasClass(e[a],R)){var o=e[a].querySelector("."+i);o&&o.id!==n&&(t.style.removeClass(o,c),A11Y_HELPER.resetAriaMenuAttributes(o))}},z=function(e,t){var n=e.getBoundingClientRect(),a=void 0;if(t){var o=t.getBoundingClientRect();a=-1*(n.height-o.height)}else a=-1*n.height;return{dockedMidwayPostion:0,dockedSecondaryNavPosition:a}},Q=function(e,t,n){!SCREEN_HELPER.isMobileView()||t?e.style.transform="translateY( "+n+"px )":e.style.transform="",t&&(t.style.transform="translateY( "+n+"px )")},G=function(){var e=this;if(!(e.secondaryNavDisabled&&window.innerWidth>CONSTANTS.BREAKPOINTS.TABLET)){var n=K.call(e),a=SCREEN_HELPER.isMobileView(),o=a&&!e.barcaTvNav?e.mobileNavWrapper:e.navWrapper,r=a&&!e.barcaTvNav?w:y;if(e.scrollElement?e.updateDockClassFixedBody(o,r):e.updateDockClass(o,r),0===F||!e.isDocked)return void(F=n);if(0===n)return Q(e.navWrapper,e.barcaTvNav,e.dockingParams.dockedMidwayPostion),void ce(e.navWrapper,e.mobileNavWrapper);Q(e.navWrapper,e.barcaTvNav,e.dockingParams.dockedMidwayPostion),F<n?(a&&!e.barcaTvNav?t.style.addClass(e.mobileNavWrapper,w):Q(e.navWrapper,e.barcaTvNav,e.dockingParams.dockedSecondaryNavPosition),t.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED_MIDWAY)):F>n&&(a&&!e.barcaTvNav?t.style.removeClass(e.mobileNavWrapper,w):(e.searchBar&&t.style.removeClass(e.searchBar,CONSTANTS.STYLE_CLS_NAMES.SEARCH_BAR_OPEN_CLS),e.searchBarIcon&&t.style.removeClass(e.searchBarIcon,CONSTANTS.STYLE_CLS_NAMES.SEARCH_ICON_OPEN_CLS),Q(e.navWrapper,e.barcaTvNav,e.dockingParams.dockedMidwayPostion)),t.style.addClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED_MIDWAY)),F=n}},X=function(){var e=this;e.secondaryNavDisabled=t.style.hasClass(e.element,Y),e.dockingParams=z(e.navWrapper,e.secondaryNav),e.scrollInterval=SCREEN_HELPER.onDebouncedScroll(G.bind(e),e.scrollElement||window)},$=function(){var e=this;if(e.burgerMenu&&e.mobileMenuCloseBtn&&e.navWrapper){A11Y_HELPER.addListener(e.burgerMenu,se.bind(e)),A11Y_HELPER.addListener(e.mobileMenuCloseBtn,se.bind(e));for(var n=0;n<e.mobileDropdownButtons.length;n++)A11Y_HELPER.addListener(e.mobileDropdownButtons[n],le.bind(e));for(var a=0;a<e.mainMenuItems.length;a++)A11Y_HELPER.addListener(e.mainMenuItems[a],de.bind(e,e.mainMenuItems[a]));e.navWrapper.addEventListener("transitionend",function(n){if(n.target.id===C&&SCREEN_HELPER.isMobileView()&&"undefined"!=typeof e.isClosing){var a=t.style.hasClass(n.currentTarget,M);e.isClosing?(e.element.style.bottom="",e.isClosing=!1):"transform"===n.propertyName&&a&&(e.element.style.bottom="0px")}})}},ee=function(){for(var e=this,t=0;t<e.mainMenuItems.length;t++)e.mainMenuItems[t].addEventListener("mouseenter",te),e.mainMenuItems[t].addEventListener("mouseleave",ne)},te=function(e){t.style.hasClass(e.currentTarget,H)||t.style.hasClass(e.currentTarget,N)||(t.style.addClass(e.currentTarget,p),t.style.addClass(e.currentTarget.parentElement,m))},ne=function(e){t.style.hasClass(e.currentTarget,H)||(t.style.removeClass(e.currentTarget,p),t.style.removeClass(e.currentTarget.parentElement,m))},ae=function(e){var n=this;SCREEN_HELPER.isMobileView()&&(e.addEventListener("click",ue.bind(n)),t.style.hasClass(e,l)||A11Y_HELPER.addListener(e,ie.bind(n)))},oe=function(e){var t=this;A11Y_HELPER.addListener(e,ue.bind(t)),A11Y_HELPER.addListener(e,function(e){SCREEN_HELPER.isMobileView()||(window.location=e.currentTarget.getAttribute("data-href"))})},re=function(){for(var e=this,t=0;t<e.otherSportsMenuItems.length;t++)e.otherSportsMenuItems[t].addEventListener("click",ue.bind(e))},ie=function(e){var n=this;if(SCREEN_HELPER.isMobileView()){var a=e.currentTarget.querySelector("."+i);if(a){var o=a.id,r=!a.className.indexOf(c)>-1;t.style.toggleClass(a,c),r&&Z(n.dropdownButtons,o),A11Y_HELPER.toggleAriaMenuAttributes(a)}}},se=function(){var e=this;if(SCREEN_HELPER.isMobileView()){if(t.style.hasClass(e.navWrapper,M)){var n=void 0;e.defaultActiveMobilePanel&&(n=e.element.querySelector('[data-menu-origin-type="'+e.defaultActiveMobilePanel.getAttribute("data-menu-type")+'"]')),n&&n.click(),e.isClosing=!0,e.currentActiveNavItem&&de.call(e,e.currentActiveNavItem),e.currentActiveSubNav&&ue.call(e,null,e.currentActiveSubNav)}else e.openingScrollPosition=window.pageYOffset,e.isClosing=!1,e.currentActiveNavItem=J.call(e),e.currentActiveSubNav=e.element.querySelector("."+D);e.isClosing&&window.scrollTo(0,e.openingScrollPosition),t.style.toggleClass(e.navWrapper,M),t.style.toggleClass(e.element,b),e.initScrollIndicator()}},le=function(e){var n=this;if(SCREEN_HELPER.isMobileView()){t.style.hasClass(e.currentTarget,j)&&e.preventDefault();var o=e.currentTarget.querySelector("."+V);o&&(t.style.toggleClass(e.currentTarget,x),setTimeout(function(){return Ee.call(n)},a))}},ce=function(e,n){t.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED),t.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED_MIDWAY),t.style.removeClass(e,y),t.style.removeClass(e,L),n&&(t.style.removeClass(n,w),t.style.removeClass(n,O))},de=function(e){var n=this;if(SCREEN_HELPER.isMobileView()){var a=J.call(n);a&&t.style.removeClass(a,H),t.style.addClass(e,H)}},ue=function(e,n){var a=this;if(SCREEN_HELPER.isMobileView()){var o=a.element.querySelector("."+A),r=n||a.element.querySelector('[data-menu-type="'+e.currentTarget.getAttribute("data-menu-origin-type")+'"]');if(r){var i=r.getAttribute("data-menu-format");a.secondaryNavUL.scrollTop=0,i?t.style.addClass(a.secondaryNavUL,T):t.style.removeClass(a.secondaryNavUL,T),o&&(t.style.removeClass(o,A),t.style.addClass(o,h)),t.style.removeClass(r,h),t.style.addClass(r,A),e&&ve.call(a,e.currentTarget),Ee.call(a)}}},ve=function(e){var n=this,a=n.element.querySelector("."+s);a&&(t.style.toggleClass(a,s),t.style.toggleClass(e,s))},Ee=function(){var e=this;SCREEN_HELPER.isMobileView()&&(0===e.secondaryNavUL.scrollTop&&e.secondaryNavUL.clientHeight<e.secondaryNavUL.scrollHeight?(t.style.removeClass(e.scrollIndicator,U),t.style.addClass(e.scrollIndicator,k)):(t.style.addClass(e.scrollIndicator,U),t.style.removeClass(e.scrollIndicator,k)))};e.Navigation=function(e){var n=this;n.element=e,n.primaryNav=n.element.querySelector("."+CONSTANTS.JS_CLS_NAMES.NAV_CORE),n.flexNav=n.element.querySelector("."+B),n.secondaryNav=n.element.querySelector("."+CONSTANTS.JS_CLS_NAMES.SECONDARY_NAV),n.burgerMenu=n.element.querySelector("."+o),n.mobileMenuCloseBtn=n.element.querySelector("."+P),n.navWrapper=n.element.querySelector("#"+C),n.mobileNavWrapper=n.element.querySelector("#"+I),n.dropdownButtons=DOM_HELPER.nodeListToArray(n.element.querySelectorAll("."+r)),n.normalButtons=DOM_HELPER.nodeListToArray(n.element.querySelectorAll("."+d)),n.mainMenuItems=DOM_HELPER.nodeListToArray(n.element.querySelectorAll("."+_)),n.mobileDropdownButtons=DOM_HELPER.nodeListToArray(n.element.querySelectorAll('[data-mobile-menu-type="true"]')),n.otherSportsMenuItems=DOM_HELPER.nodeListToArray(n.element.querySelectorAll('[data-other-sports-menu="true"]')),n.searchBar=document.querySelector("."+CONSTANTS.JS_CLS_NAMES.SEARCH_BAR_CLS_JS),n.searchBarIcon=document.querySelector("."+CONSTANTS.JS_CLS_NAMES.SEARCH_ICON_CLS_JS),n.isDocked=!1,n.scrollElement=document.querySelector("."+u),n.sectionNameContainer=document.querySelector("."+v),n.secondaryNav=n.element.querySelector("."+E),n.newReleasePopupClose=DOM_HELPER.nodeListToArray(n.element.querySelectorAll("."+g)),n.newReleasePopup=DOM_HELPER.nodeListToArray(n.element.querySelectorAll("."+S)),n.barcaTvNav=document.querySelector('[data-widget="barca-tv-nav"]'),n.secondaryNav&&(n.secondaryNavUL=n.secondaryNav.querySelector("ul"));var a=t.localStorage.getStorage(W);"true"!==a&&n.newReleasePopup.forEach(function(e){t.style.addClass(e,N),t.style.addClass(e,CONSTANTS.STYLE_CLS_NAMES.IS_ACTIVE)}),n.addListeners(),n.storeActiveMobilePanel(),n.checkFlexNavigation()},e.Navigation.prototype.addListeners=function(){for(var e=this,n=0;n<e.dropdownButtons.length;n++)ae.call(e,e.dropdownButtons[n]);for(var a=0;a<e.normalButtons.length;a++)oe.call(e,e.normalButtons[a]);SCREEN_HELPER.onDebouncedResize(function(){e.dockingParams=z(e.navWrapper,e.secondaryNav),G.call(e)}),re.call(e),$.call(e),ee.call(e),X.call(e),e.newReleasePopupClose.forEach(function(n){A11Y_HELPER.addListener(n,function(n){n.preventDefault(),n.stopPropagation(),e.newReleasePopup.forEach(function(e){t.style.addClass(e,f),t.style.removeClass(e,CONSTANTS.STYLE_CLS_NAMES.IS_ACTIVE),t.localStorage.setStorage(W,!0),setTimeout(function(){t.style.removeClass(e,N)},0)})})})},e.Navigation.prototype.checkFlexNavigation=function(){var e=this;if(e.flexNav){var t={clickEvent:!1,container:e.flexNav,containerCls:"secondary-navigation__list-item secondary-navigation__list-item--more",flexNavOpenCls:"section-navigation__text-container-more--open",additionalMenuItem:e.sectionNameContainer};"true"===e.flexNav.getAttribute("data-flex-nav")&&new n.FlexNav(e.flexNav,t)}},e.Navigation.prototype.initScrollIndicator=function(){var e=this;e.scrollIndicator=document.querySelector("."+q),e.secondaryNavUL&&(e.secondaryNavUL.addEventListener("scroll",Ee.bind(e)),Ee.call(e))},e.Navigation.prototype.storeActiveMobilePanel=function(){var e=this;e.defaultActiveMobilePanel=e.element.querySelector("."+A)},e.Navigation.prototype.updateDockClassFixedBody=function(){var e=this;0===e.scrollElement.scrollTop?(ce(e.navWrapper,e.mobileNavWrapper),t.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED),e.isDocked=!1):(t.style.addClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED),e.isDocked=!0)},e.Navigation.prototype.updateDockClass=function(e,n){var a=this,o=DOM_HELPER.isElementInView(a.primaryNav),r=t.style.hasClass(e,n);o&&r?(ce(a.navWrapper,a.mobileNavWrapper),t.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED),a.isDocked=!1):o||r||(t.style.addClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED),a.isDocked=!0)};for(var Se=document.querySelectorAll('[data-widget="navigation"]'),ge=0;ge<Se.length;ge++)new e.Navigation(Se[ge],{})}(PULSE.app,PULSE.core,PULSE.app.common),function(e,t){var n=function(){USER_HELPER.register()},a=function(){USER_HELPER.logIn()};e.Quicklinks=function(e){var o=this;o.container=e;var r="quicklinks--is-active",i="quicklinks--has-user",s=100,l=o.container.querySelector(".js-user-register"),c=o.container.querySelector(".js-user-login"),d=void 0,u=void 0,v=document.body.offsetHeight;USER_HELPER.isUserLoggedIn()?t.style.addClass(o.container,i):l&&c&&(A11Y_HELPER.addListener(l,n.bind(o)),A11Y_HELPER.addListener(c,a.bind(o))),o.scrollEvent=SCREEN_HELPER.onDebouncedResize(function(){v=document.body.offsetHeight,u=v-s-window.outerHeight}),o.scrollInterval=SCREEN_HELPER.onDebouncedScroll(function(){d=window.innerHeight,u=v-s-d,window.pageYOffset>s&&window.pageYOffset<u?t.style.addClass(o.container,r):t.style.removeClass(o.container,r)})};for(var o=document.querySelectorAll('[data-widget="quicklinks"]'),r=0;r<o.length;r++)new e.Quicklinks(o[r],{})}(PULSE.app,PULSE.core),function(e,t,n){var a=function(){var e=this;n.style.toggleClass(e.searchBar,CONSTANTS.STYLE_CLS_NAMES.SEARCH_BAR_OPEN_CLS),n.style.hasClass(e.searchBarIcon,CONSTANTS.STYLE_CLS_NAMES.SEARCH_ICON_OPEN_CLS)?n.style.removeClass(e.searchBarIcon,CONSTANTS.STYLE_CLS_NAMES.SEARCH_ICON_OPEN_CLS):n.style.addClass(e.searchBarIcon,CONSTANTS.STYLE_CLS_NAMES.SEARCH_ICON_OPEN_CLS),A11Y_HELPER.toggleZIndex(e.secondaryNav),e.input.focus()};e.SearchBar=function(e){var n=this;n.searchBarIcon=e,n.searchBar=document.querySelector("."+CONSTANTS.JS_CLS_NAMES.SEARCH_BAR_CLS_JS),n.searchBar&&(n.input=n.searchBar.querySelector("input"),n.searchInput=new t.SearchInput(n.searchBar,n.input),n.secondaryNav=document.querySelector("."+CONSTANTS.JS_CLS_NAMES.SECONDARY_NAV),n.addListeners())},e.SearchBar.prototype.addListeners=function(){var e=this;A11Y_HELPER.addListener(e.searchBarIcon,a.bind(e))};for(var o=document.querySelectorAll('[data-widget="fcb-search"]'),r=0;r<o.length;r++)new e.SearchBar(o[r],{})}(PULSE.app,PULSE.app.common,PULSE.core);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};!function(e,t,n){var a="section-navigation-dropdown--open",o="section-navigation__text-container--more-active",r="section-navigation-dropdown__option-link--active",i=100,s="data-href",l="js-main-nav-dropdown",c="js-main-nav-dropdown-more",d="js-dropdown-current",u="js-main-nav-dropdown-options",v="js-main-nav-dropdown-option",E="js-main-nav-item",S=function(e){e.forEach(function(e){t.style.removeClass(e,r)})},g=function(e,n){var a=this;a.mainNavDropdownCurrent.innerHTML=e.innerHTML,S(n),t.style.addClass(e,r)},m=function(e,t){var n=this;t.forEach(function(a){var o=a.getAttribute(s);o&&e===o&&g.call(n,a,t)})},p=function(e){var n=this,r=e.querySelector("."+c);A11Y_HELPER.addListener(r,function(){t.style.toggleClass(e,a),t.style.toggleClass(r,o),A11Y_HELPER.toggleZIndex(e)}),n.dropdownOptions=DOM_HELPER.nodeListToArray(e.querySelectorAll("."+v)),n.dropdownOptions.forEach(function(o){A11Y_HELPER.addListener(o,function(r){o.href||(r.preventDefault(),t.style.removeClass(e,a),g.call(n,o,n.dropdownOptions))})})};e.SectionNavigation=function(t){var a=this;a.container=t,a.mainNav=a.container,a.mainNavDropdown=a.container.querySelector("."+l),a.mainNavDropdownCurrent=a.mainNav.querySelector("."+d),p.call(a,a.mainNavDropdown);var o={container:t.querySelector(".js-section-nav"),containerCls:"section-navigation__text-container-more",flexNavOpenCls:"section-navigation__text-container-more--open"};new n.FlexNav(t,o),a.intersectionNav=new n.IntersectionNav(a.container,{observer:_extends({},PRESET_CONFIG.OBSERVER,{threshold:.9}),activationElementSelector:"js-section-nav-link",activationElementIdAttribute:s,navSelector:E,navDropdownSelector:u,activeClass:"section-navigation__text-container--active",marginBottom:i,language:e.language,didUpdateActive:function(e){m.call(a,e,a.dropdownOptions)}})};for(var y=document.querySelectorAll('[data-widget="section-nav"]'),L=0;L<y.length;L++)new e.SectionNavigation(y[L],{})}(PULSE.app,PULSE.core,PULSE.app.common),function(e,t){var n="video-page-nav__item"+CONSTANTS.STYLE_CLS_MODIFIERS.ACTIVE,a="js-video-nav-item",o="video-page-panel--animate-in",r="video-page-panel--animate-out",i="section-navigation-dropdown__option-link--active",s="section-navigation-dropdown--open",l="section-navigation__text-container--more-active",c="js-video-page-panel",d="js-nav-dropdown",u="js-nav-dropdown-more",v="js-dropdown-current",E="js-nav-dropdown-option";e.TabsNavigation=function(e){var r=this;if(r.container=e,r.navItems=DOM_HELPER.nodeListToArray(r.container.querySelectorAll("."+a)),r.panes=DOM_HELPER.nodeListToArray(document.querySelectorAll("."+c)),!r.panes.find(function(e){return t.style.hasClass(e,"."+o)})){var i=r.navItems.find(function(e){return t.style.hasClass(e,n)});if(i){var s=i.getAttribute("data-content-panel"),l=g(r.panes,s);t.style.addClass(l,"."+o)}}r.mainNav=r.container,r.mainNavDropdown=r.container.querySelector("."+d),r.mainNavDropdownCurrent=r.mainNav.querySelector("."+v),m.call(r,r.mainNavDropdown),p.call(r)};var S=function(e){e.forEach(function(e){t.style.removeClass(e,i)})},g=function(e,t){var n=e.filter(function(e){return e.getAttribute("data-video-page-panel")===t});return n.length>0?n[0]:null},m=function(e){var n=this,a=e.querySelector("."+u);A11Y_HELPER.addListener(a,function(){t.style.toggleClass(e,s),t.style.toggleClass(a,l),A11Y_HELPER.toggleZIndex(e)}),n.dropdownOptions=DOM_HELPER.nodeListToArray(e.querySelectorAll("."+E)),n.dropdownOptions.forEach(function(a){A11Y_HELPER.addListener(a,function(o){o.preventDefault(),t.style.removeClass(e,s),y.call(n,a,n.dropdownOptions),L.call(n,a)})})},p=function(){for(var e=this,a=0;a<e.navItems.length;a++)t.style.hasClass(e.navItems[a],n)&&L.call(e,e.navItems[a],e.navItems[0]),A11Y_HELPER.addListener(e.navItems[a],function(t){return L.call(e,t.currentTarget)})},y=function(e,n){var a=this;a.mainNavDropdownCurrent.innerHTML=e.innerHTML,S(n),t.style.addClass(e,i)},L=function(e,a){var o=this,r=a||o.container.querySelector("."+n);r&&e!==r&&C(o.panes,e.getAttribute("data-content-panel"),r.getAttribute("data-content-panel"))&&(t.style.removeClass(r,n),t.style.addClass(e,n))},C=function(e,t,n){var a=g(e,t),i=g(e,n);return a&&i?(ANIMATION_HELPER.toggleAnimation(a,i,{animateInCls:o,animateOutCls:r}),!0):(console.warn("Error: Unable to find pane to switch to."),!1)};e.widgetInitialiser.addMultipleWidgetsByName("tabs-navigation",e.TabsNavigation)}(PULSE.app,PULSE.core,CONSTANTS),function(e,t,n){var a="js-account",o="js-account-text-desktop",r="js-account-text-mobile",i="js-account-avatar-container",s="js-account-avatar",l="js-register",c="js-login",d="js-mobile-cta-open",u="js-mobile-cta-close",v="logged-in",E="logged-out",S="mobile-cta-visible",g="u-hide",m="is-premium";e.UserOptions=function(e){var t=this;t.container=e,t.account=t.container.querySelector("."+a),t.accountTextDesktop=t.account.querySelector("."+o),t.accountTextMobile=t.account.querySelector("."+r),t.accountAvatarContainer=t.account.querySelector("."+i),t.accountAvatar=t.account.querySelector("."+s),t.registerBtn=t.container.querySelector("."+l),t.loginBtn=t.container.querySelector("."+c),t.mobileCtaOpenBtn=t.container.querySelector("."+d),t.mobileCtaCloseBtn=t.container.querySelector("."+u),t.addListeners();var v=n.getState().account.generalDetails.data;if(v.email)t.setAccountInfo(v);else if(n.getState().account.generalDetails.fetchingFailed)t.setLoggedOutState();else{var E=watch(n.getState,["account","generalDetails","data"]);n.subscribe(E(function(e){t.setAccountInfo(e)}));var S=watch(n.getState,["account","generalDetails","fetchingFailed"]);n.subscribe(S(function(){t.setLoggedOutState()}))}USER_HELPER.isUserLoggedIn()||t.setLoggedOutState()},e.UserOptions.prototype.setAccountInfo=function(e){var n=this;if(e.firstName){var a=PULSE.I18N.lookup("label.sso-nav.greeting",{name:e.firstName});this.accountTextDesktop.innerHTML=a}else this.accountTextDesktop.innerHTML=PULSE.I18N.lookup("label.sso-nav.generic-account-label");var o=e.firstName?e.firstName.charAt(0):"",r=e.lastName?e.lastName.charAt(0):"";this.accountTextMobile.innerHTML=o+r,e.imageUrl&&(this.accountAvatar.innerHTML=TEMPLATE_HELPER.render({details:e},"user_avatar"),t.style.removeClass(this.accountAvatarContainer,g)),USER_HELPER.checkUserEntitlement(CONSTANTS.USER_ENTITLEMENT_TYPE.PREMIUM_FEEL).then(function(e){e?t.style.addClass(n.container,m):t.style.removeClass(n.container,m)}),USER_HELPER.isUserLoggedIn()?this.setLoggedInState():this.setLoggedOutState()},e.UserOptions.prototype.setLoggedOutState=function(){var e=this;t.style.removeClass(e.container,v),t.style.addClass(e.container,E),USER_HELPER.logOut(!1)},e.UserOptions.prototype.setLoggedInState=function(){var e=this;t.style.removeClass(e.container,E),t.style.addClass(e.container,v)},e.UserOptions.prototype.addListeners=function(){var e=this;A11Y_HELPER.addListener(e.registerBtn,p),A11Y_HELPER.addListener(e.loginBtn,y),A11Y_HELPER.addListener(e.account,L),A11Y_HELPER.addListener(e.mobileCtaOpenBtn,C.bind(null,e)),A11Y_HELPER.addListener(e.mobileCtaCloseBtn,_.bind(null,e))};var p=function(){USER_HELPER.register()},y=function(){USER_HELPER.logIn()},L=USER_HELPER.goToAccountPage,C=function(e){t.style.addClass(e.container,S)},_=function(e){t.style.removeClass(e.container,S)};e.widgetInitialiser.addMultipleWidgetsByName("user-options",e.UserOptions)}(PULSE.app,PULSE.core,PULSE.store);